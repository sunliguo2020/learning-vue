"use strict";const e=require("../common/vendor.js");exports.request=function(t={}){return new Promise(((o,a)=>{let{url:s,method:r="GET",header:n={},data:d={}}=t;s.startsWith("https://")||s.startsWith("http://")||(s="https://tea.qingnian8.com/api/bizhi"+s),n["access-key"]="66541388",console.log(n),e.index.request({url:s,data:d,method:r,header:n,success:t=>{console.log("请求成功返回的res",t),0==t.data.errCode?o(t.data):400===t.data.errCode?(e.index.showModal({title:"错误提示",content:t.data.errMsg,showCancel:!1}),a(t.data.data)):(e.index.showModal({title:t.data.errMsg,icon:"none"}),rejct(t.data.data))},fail:t=>{console.log("请求失败返回",t),e.index.showToast({title:"请求失败",showCancel:!1,icon:"error"}),a(t)},complete:()=>{console.log(s,"请求结束")}})}))};
